<!DOCTYPE html>
<html lang="{{ lang | default(value='en') }}">
<head>
  <meta charset="UTF-8" />
  <title>{{ t.title | default(value='JuiceBox - Fast Temporary File Host') }}</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <!-- Social & SEO meta additions -->
  <meta name="description" content="{{ t.meta_description | default(value='JuiceBox is an open-source and simple high-speed temporary file host with hotlinking. Click, upload, share lightweight expiring links with selectable file retention up to 500mb.') }}" />
  <link rel="canonical" href="https://box.juicey.dev/" />
  <meta name="keywords" content="file upload, temporary file host, share files, expiring links, quick file sharing" />
  <meta name="author" content="JuiceBox" />
  <meta name="theme-color" content="#0f141b" />
  <!-- Favicons -->
  <link rel="icon" href="/favicon.ico" sizes="any" />
  <link rel="apple-touch-icon" href="/favicon.ico" />
  <meta name="robots" content="index,follow" />
  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="{{ t.og_title | default(value='JuiceBox ‚Äì Fast Temporary File Host') }}" />
  <meta property="og:description" content="{{ t.og_description | default(value='Upload files up to 500MB and share instant expiring links (1h‚Äì14d retention).') }}" />
  <meta property="og:url" content="https://box.juicey.dev/" />
  <meta property="og:site_name" content="JuiceBox" />
  <meta property="og:image" content="https://box.juicey.dev/silly.gif" />
  <meta property="og:image:alt" content="JuiceBox, Temporary File Host, the silly file share." />
  <meta property="og:locale" content="en_US" />
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="{{ t.twitter_title | default(value='JuiceBox ‚Äì Fast Temporary File Host') }}" />
  <meta name="twitter:description" content="{{ t.twitter_description | default(value='Upload files (‚â§500MB) and share expiring links with selectable retention.') }}" />
  <meta name="twitter:image" content="https://box.juicey.dev/silly.gif" />
  <meta name="twitter:image:alt" content="JuiceBox, Temporary File Host, the silly file share." />
  <!-- End social meta -->
  <link rel="stylesheet" href="/css/app.css" />
  <style>
    .footer-links a, .footer-links a:visited { color: #fff !important; }
  </style>
</head>
<body>
  <nav class="skip-links" aria-label="Skip links">
    <a href="#mainContent" class="skip-link">{{ t.skip_main | default(value="Skip to main content") }}</a>
    <a href="#yourFiles" class="skip-link">{{ t.skip_files | default(value="Skip to your files") }}</a>
  </nav>

 
  <header>
    <h1 class="brand-heading"><a href="/" class="brand-link" aria-label="JuiceBox Home"><img src="/logo.png" alt="JuiceBox logo" class="logo" decoding="async" draggable="false" />JuiceBox <span class="visually-hidden">{{ t.brand_subtitle | default(value="Fast Temporary File Host") }}</span></a></h1>
    <p class="lead">{{ t.lead | default(value="Click, Upload, Share!") }}</p>
  </header>
  <main id="mainContent" tabindex="-1">
    <script>
  // Language switcher: set cookie and reload with lang param
  window.addEventListener('DOMContentLoaded', function() {
    var sel = document.getElementById('langSelect');
    if(!sel) return;
    sel.addEventListener('change', function(){
      var lang = sel.value;
      document.cookie = 'lang=' + lang + ';path=/;max-age=31536000';
      var url = new URL(window.location.href);
      url.searchParams.set('lang', lang);
      window.location = url.toString();
    });
    // On load, if cookie exists and no lang param, reload with cookie
    var m = document.cookie.match(/(?:^|; )lang=([a-z]{2})/);
    if(m && !new URLSearchParams(window.location.search).has('lang')){
      var url = new URL(window.location.href);
      url.searchParams.set('lang', m[1]);
      window.location = url.toString();
    }
  });
  </script>

    <form id="langForm" style="margin:1.2rem 0 0 0;" aria-label="Language selector">
        <label for="langSelect" id="langLabel" style="font-size:.9em;opacity:.85;display:flex;align-items:center;gap:.4em;cursor:pointer;">
            <span aria-hidden="true" style="font-size:1.2em;filter:drop-shadow(0 1px 2px #0f141b33);">üåê</span>
            <span class="visually-hidden">{{ t.language_select | default(value="Select language") }}</span>
            <select id="langSelect" name="lang" style="font-size:1em;padding:.25em 1.2em .25em .7em;border-radius:7px;margin-left:.1em;background:#181f2b;color:#fff;border:1px solid #2a3240;box-shadow:0 1px 4px #0002;appearance:none;cursor:pointer;transition:border .2s;" aria-labelledby="langLabel">
                <option value="en" {% if lang == "en" %}selected{% endif %}>üá¨üáß English</option>
                <option value="fr" {% if lang == "fr" %}selected{% endif %}>üá´üá∑ Fran√ßais</option>
                <option value="es" {% if lang == "es" %}selected{% endif %}>üá™üá∏ Espa√±ol</option>
            </select>
            <svg aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" style="margin-left:-1.5em;pointer-events:none;position:relative;z-index:2;fill:#fff;opacity:.7;">
                <path d="M5.5 8l4.5 4.5L14.5 8z"/>
            </svg>
        </label>
    </form>
    <div class="panel"><section id="uploadSection">
      <h2 title="Upload new files below">{{ t.upload | default(value="Upload") }}</h2>
      <div class="ttl-row" style="display:flex;align-items:center;gap:.55rem;margin:.3rem 0 1rem;font-size:.62rem;letter-spacing:.4px;" title="{{ t.ttl_title | default(value="Choose how long the uploaded files will be kept before automatic deletion") }}">
        <label for="ttlSelect" class="subtle" title="Retention period">{{ t.retention | default(value="Retention:") }}</label>
        <input id="ttlSelect" type="range" min="0" max="6" step="1" value="4" aria-label="Retention" title="{{ t.ttl_adjust | default(value='Adjust retention from 1 hour up to 14 days') }}" />
        <span id="ttlValue" class="ttl-value" title="Current retention value">3d</span>
        <span class="subtle" title="Files are automatically deleted after retention">{{ t.auto_delete | default(value="auto delete") }}</span>
      </div>
      <div class="drop-zone" id="dropZone" aria-describedby="dropHint" title="{{ t.drop_title | default(value='Click or drag files here to upload (max {max_size} each)') | replace(from='{max_size}', to=max_file_size_str) }}">
        <input type="file" id="fileInput" multiple title="File picker" aria-label="{{ t.file_picker | default(value='Select files to upload (maximum {max_size} each)') | replace(from='{max_size}', to=max_file_size_str) }}" aria-describedby="dropHint" />
        <div class="icon" title="Folder icon">üìÅ</div>
        <div class="muted" id="dropHint" title="Click or drop to begin selecting files">{{ t.drop_hint | default(value="Click or drop files") }}</div>
      </div>
      <ul id="fileList" title="Upload queue showing files, progress bars, and actions" role="list"></ul>
      <p class="site-note" title="Upload usage note">{{ t.upload_note | default(value="Upload your files. Links show after each finishes. Maximum file size is {max_size}, Files expire after selected retention. Limit: maximum 5 active files per IP (delete one to free a slot). See <a href='/faq' target='_blank' rel='noopener' title='Open FAQ in new tab'>Read the FAQ</a>.") | replace(from='{max_size}', to=max_file_size_str) }}</p>
      <p class="site-note" title="Privacy notice">{{ t.privacy_note | default(value="Notice: Your IP address is processed only to associate uploads with your session, apply limits, and enable abuse/moderation actions. It is not shared and is removed once all related files expire.") }}</p>
    </section></div>
    <div class="panel" id="ownedPanel" style="display:none"><section>
      <h2 id="yourFiles" title="Files previously uploaded from this connection">{{ t.your_files | default(value="Your Files") }}</h2>
      <ul id="ownedList" title="List of files you have uploaded" role="list"></ul>
      <p class="site-note" title="Owned files note">{{ t.owned_note | default(value="These are files linked to your IP, They persist across refresh until deleted.") }}</p>
    </section></div>
    <div class="panel"><section id="about">
      <h2 id="aboutHeading">{{ t.about_heading | default(value="What is JuiceBox?") }}</h2>
      <p>{{ t.about_1 | default(value="JuiceBox Temporary File Host is a fast, simple way to share files without creating an account. Pick a retention period from 1 hour up to 14 days, upload files up to 500 MB, and instantly share lightweight expiring links. When the timer ends, files are automatically deleted. It‚Äôs perfect for quick hand‚Äëoffs, code snippets, screenshots, small archives, and any content you don‚Äôt want to keep online forever.") }}</p>
      <p>{{ t.about_2 | default(value="How it works: drag and drop or click to select files, choose a retention window, then copy the link once each upload completes. We limit each IP to a small number of active files to prevent abuse; delete an older item to free a slot. For a minimal experience, try the <a href='/simple'>no‚Äëscript uploader</a>. For details about limits, retention, thumbnails and moderation, read the <a href='/faq'>Frequently Asked Questions</a>. Our focus is speed, privacy and ease: no tracking pixels, no social logins, and no permanent storage, just quick, disposable sharing.") }}</p>
      <p>{{ t.about_3 | default(value="Privacy and safety: your IP is used only to associate uploads, enforce rate limits and handle abuse reports, and it is removed after related files expire. To report prohibited content or request removal, visit the <a href='/report'>Report form</a> page. Use of the service implies acceptance of our <a href='/terms'>Terms of Service</a>. If you prefer to browse a simple landing link to share with others, you can point them to the home page or the <a href='/faq'>FAQ guide</a> for guidance.") }}</p>
      <p class="inspired-note">{{ t.inspired | default(value="Inspired by") }} <a href="https://catbox.moe" target="_blank" rel="noopener nofollow">Catbox</a></p>
      <nav aria-label="{{ t.share_aria | default(value='Share') }}" class="share-links" style="margin-top:.35rem;font-size:.8em;opacity:.85">
        {{ t.share | default(value='Share:') }}
        <a href="https://bsky.app/intent/compose?text={{ t.social_bsky | default(value='Upload and share temporary files with JuiceBox https://box.juicey.dev/') | urlencode }}" rel="noopener nofollow" target="_blank">Bluesky</a>
        <a href="https://twitter.com/intent/tweet?text={{ t.social_twitter | default(value='Upload and share temporary files with JuiceBox https://box.juicey.dev/') | urlencode }}" rel="noopener nofollow" target="_blank">{{ t.twitter | default(value='Twitter') }}</a>
        <a href="https://www.reddit.com/submit?url=https://box.juicey.dev/&title={{ t.social_reddit | default(value='Upload and share temporary files with JuiceBox') | urlencode }}" rel="noopener nofollow" target="_blank">{{ t.reddit | default(value='Reddit') }}</a>
        <!-- Example: add more social links with translation keys if needed -->
      </nav>
    </section></div>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "JuiceBox",
      "url": "https://box.juicey.dev/",
      "applicationCategory": "Utility",
      "operatingSystem": "All",
      "description": "Fast temporary file host to upload and share expiring links (1h‚Äì14d retention, up to 500MB).",
      "offers": {}
    }
    </script>
  </main>
  <footer title="{{ t.footer_tagline | default(value='Service tagline') }}">juicebox // {{ t.footer_sub | default(value='simple high-speed file host') }}
  <nav aria-label="{{ t.site_links | default(value='Site links') }}" class="footer-links" style="display:block;margin-top:.45rem;font-size:.6rem;letter-spacing:.35px;color:#fff;">
    <a href="/">{{ t.home | default(value='Home') }}</a> ‚Ä¢ <a href="/simple">{{ t.simple | default(value='Simple') }}</a> ‚Ä¢ <a href="/faq">{{ t.faq | default(value='FAQ') }}</a> ‚Ä¢ <a href="/report">{{ t.report | default(value='Report') }}</a> ‚Ä¢ <a href="/terms">{{ t.terms | default(value='Terms') }}</a> ‚Ä¢ <a href="https://buymeacoffee.com/juiceydev" target="_blank" rel="noopener">{{ t.donate | default(value='Donate') }}</a>
  </nav>
  <br><span id="ipNote" style="display:block;font-size:.55rem;opacity:.45;margin-top:.4rem;letter-spacing:.3px"></span></footer>
  <script>
  window.addEventListener('DOMContentLoaded',()=>{
    const note=document.getElementById('ipNote');
    if(!note) return;
    fetch('/debug-ip',{cache:'no-store'}).then(r=>r.json()).then(j=>{
      let ip = null;
      if(j.cf && j.cf !== '-') {
        ip = j.cf;
      } else if(j.xff && j.xff !== '-') {
        ip = j.xff.split(',')[0].trim();
      } else if(j.edge) {
        ip = j.edge;
      }
      let censored = '‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà';
      if(ip && ip.length > 3) {
        const parts = ip.split('.');
        if(parts.length === 4) {
          censored = parts[0]+'.'+parts[1]+'.‚ñà‚ñà‚ñà.‚ñà‚ñà';
        } else if(ip.includes(':')) {
          censored = ip.replace(/([\da-f]{1,4})(:[\da-f]{1,4})+/, '‚ñà‚ñà‚ñà‚ñà:‚ñà‚ñà‚ñà‚ñà:‚ñà‚ñà‚ñà‚ñà');
        }
      }
      note.textContent = `Your IP is ${censored} (click to reveal) btw.`;
      note.style.cursor = 'pointer';
      let revealed = false;
      note.onclick = function() {
        if(revealed || !ip) return;
        note.textContent = `Your IP is ${ip} btw.`;
        note.style.opacity = 1;
        revealed = true;
      };
    }).catch(()=>{ note.textContent='Your IP is weird btw.'; });
  });
  </script>
  <script src="/js/app.js" defer></script>
  <script>
  // Language auto-apply: checks cookie/localStorage and reloads with ?lang= if needed
  (function(){
    var getLang = function() {
      var m = document.cookie.match(/(?:^|; )lang=([a-z]{2})/);
      if(m) return m[1];
      try { var l = localStorage.getItem('lang'); if(l) return l; } catch(e){}
      return null;
    };
    var urlLang = new URLSearchParams(window.location.search).get('lang');
    var cookieLang = getLang();
    if(cookieLang && cookieLang !== urlLang) {
      var url = new URL(window.location.href);
      url.searchParams.set('lang', cookieLang);
      window.location = url.toString();
    }
  })();
  </script>
  <script>
    window.MAX_FILE_BYTES = "{{ max_file_bytes | default(value=524288000) }}";
    window.MAX_FILE_SIZE_STR = "{{ max_file_size_str | default(value='500MB') }}";
  </script>
</body>
</html>
