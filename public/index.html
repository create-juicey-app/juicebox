<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>JuiceBox</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <!-- Social & SEO meta additions -->
  <meta name="description" content="JuiceBox ‚Äì simple high-speed temporary file host. Click, upload, share lightweight expiring links with selectable retention." />
  <link rel="canonical" href="https://box.juicey.dev/" />
  <meta name="keywords" content="file upload, temporary file host, share files, expiring links, quick file sharing" />
  <meta name="author" content="JuiceBox" />
  <meta name="theme-color" content="#0f141b" />
  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="JuiceBox ‚Äì Fast Temporary File Host" />
  <meta property="og:description" content="Upload files up to 500MB and share instant expiring links (1h‚Äì14d retention)." />
  <meta property="og:url" content="/" />
  <meta property="og:site_name" content="JuiceBox" />
  <meta property="og:image" content="/silly.webp" />
  <meta property="og:image:alt" content="JuiceBox, Temporary File Host, the silly file share." />
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="JuiceBox ‚Äì Fast Temporary File Host" />
  <meta name="twitter:description" content="Upload files (‚â§500MB) and share expiring links with selectable retention." />
  <meta name="twitter:image" content="/silly.webp" />
  <meta name="twitter:image:alt" content="JuiceBox, Temporary File Host, the silly file share." />
  <!-- End social meta -->
  <link rel="stylesheet" href="/css/app.css" />
</head>
<body>
  <!-- Reworked skip links in a nav landmark -->
  <nav class="skip-links" aria-label="Skip links">
    <a href="#mainContent" class="skip-link">Skip to main content</a>
    <a href="#yourFiles" class="skip-link">Skip to your files</a>
  </nav>
  <noscript><div style="padding:.9rem 1rem;text-align:center;background:#222e3d;border-bottom:1px solid #2c394a;font-size:.7rem;letter-spacing:.5px;">JavaScript is disabled or unsupported. Use the <a href="/simple" style="color:var(--accent);text-decoration:underline;">basic no‚Äëscript uploader</a>.</div></noscript>
  <header>
    <!-- Single H1 (visible brand + hidden descriptive text) -->
    <h1>JuiceBox <span class="visually-hidden">Temporary File Host</span></h1>
    <p class="lead">Click, Upload, Share!</p>
  </header>
  <main id="mainContent" tabindex="-1">
    <div class="panel"><section id="uploadSection">
      <h2 title="Upload new files below">Upload</h2>
      <div class="ttl-row" style="display:flex;align-items:center;gap:.55rem;margin:.3rem 0 1rem;font-size:.62rem;letter-spacing:.4px;" title="Choose how long the uploaded files will be kept before automatic deletion">
        <label for="ttlSelect" class="subtle" title="Retention period">Retention:</label>
        <input id="ttlSelect" type="range" min="0" max="6" step="1" value="4" aria-label="Retention" title="Adjust retention from 1 hour up to 14 days" />
        <span id="ttlValue" class="ttl-value" title="Current retention value">3d</span>
        <span class="subtle" title="Files are automatically deleted after retention">auto delete</span>
      </div>
      <!-- Updated drop zone: div acts as passive drop target; file input provides interactive control -->
      <div class="drop-zone" id="dropZone" aria-describedby="dropHint" title="Click or drag files here to upload (max 500MB each)">
        <input type="file" id="fileInput" multiple title="File picker" aria-label="Select files to upload (maximum 500 megabytes each)" aria-describedby="dropHint" />
        <div class="icon" title="Folder icon">üìÅ</div>
        <div class="muted" id="dropHint" title="Click or drop to begin selecting files">Click or drop files</div>
      </div>
      <ul id="fileList" title="Upload queue showing files, progress bars, and actions" role="list"></ul>
      <p class="site-note" title="Upload usage note">Upload your files. Links show after each finishes. Maximum file size is 500MB, Files expire after selected retention. See <a href="/faq" target="_blank" rel="noopener" title="Open FAQ in new tab">FAQ</a>.</p>
      <p class="site-note" title="Privacy notice">Notice: Your IP address is processed only to associate uploads with your session, apply limits, and enable abuse/moderation actions. It is not shared and is removed once all related files expire.</p>
    </section></div>
    <div class="panel" id="ownedPanel" style="display:none"><section>
      <h2 id="yourFiles" title="Files previously uploaded from this connection">Your Files</h2>
      <ul id="ownedList" title="List of files you have uploaded" role="list"></ul>
      <p class="site-note" title="Owned files note">These are files linked to your IP, They persist across refresh until deleted.</p>
    </section></div>
  </main>
  <footer title="Service tagline">juicebox // simple high-speed file host<br><span id="ipNote" style="display:block;font-size:.55rem;opacity:.45;margin-top:.4rem;letter-spacing:.3px"></span></footer>
  <script>
  window.addEventListener('DOMContentLoaded',()=>{
    const note=document.getElementById('ipNote');
    if(!note) return;
    fetch('/debug-ip',{cache:'no-store'}).then(r=>r.json()).then(j=>{
      let text;
      if(j.cf && j.cf !== '-') {
        text = `Your ip is ${j.cf} btw.`;
      } else if(j.xff && j.xff !== '-') {
        const first = j.xff.split(',')[0].trim();
        text = `Your ip is ${first} btw.`;
      } else if(j.edge) {
        text = `Your ip is ${j.edge} (edge!) btw.`;
      } else {
        text = 'Your ip is fucking weird btw.';
      }
      note.textContent = text;
    }).catch(()=>{ note.textContent='Your ip is fucking weird btw.'; });
  });
  </script>
  <script src="/js/app.js" defer></script>
</body>
</html>
